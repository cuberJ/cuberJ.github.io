<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>兽的交易市场</title>
<style>
  :root{
    /* 统一为 MonsterForum 的深蓝背景与霓虹黄蓝强调 */
    --bg-start:#0c1f3f;
    --bg-end:#0b5a6a;
    --accent:#ffeb3b;
    --accent-2:#6ae8ff;
    --text:#eaf7ff;
    --muted:#9dbbd3;
    --card-bg:rgba(10,21,40,.72);
    --card-border:rgba(255,255,255,.18);
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Noto Sans',Arial,'PingFang SC','Microsoft YaHei',sans-serif;background:linear-gradient(135deg,var(--bg-start),var(--bg-end));color:var(--text)}
  .wrap{max-width:1100px;margin:24px auto;border:1px solid var(--card-border);border-radius:16px;overflow:hidden;background:rgba(8,16,30,.55);backdrop-filter:blur(6px)}
  header{padding:12px 16px;border-bottom:1px solid var(--card-border);color:#fff}
  main{padding:16px}
  .title{font-size:28px;font-weight:800;letter-spacing:1px;color:var(--accent);margin:0 0 12px;text-shadow:0 2px 8px rgba(0,0,0,.35)}
  .nav{display:flex;gap:12px;align-items:center;background:rgba(255,210,120,.10);border:1px solid var(--card-border);padding:10px 12px;border-radius:10px}
  .nav a{color:#fff;text-decoration:none;padding:6px 10px;border:1px solid var(--card-border);border-radius:8px;background:rgba(255,210,120,.10)}
  .nav a.active{background:var(--accent);color:#240b0b;border-color:#f7c54b}
  .nav .search{flex:1;min-width:200px;padding:8px 10px;border:1px solid var(--card-border);border-radius:8px;background:rgba(255,255,255,.12);color:#fff}
  .nav .search::placeholder{color:#ddd}
  .nav .search-btn{margin-left:auto;padding:8px 12px;border:1px solid #f7c54b;border-radius:8px;background:var(--accent);color:#2d0a0a;cursor:pointer}

  .posts{display:flex;flex-direction:column;gap:12px;margin-top:14px}
  .post{border:1px solid var(--card-border);border-radius:12px;background:var(--card-bg);padding:12px}
  .post h3{margin:0 0 6px;font-size:18px;color:#fff}
  .post h3 a{color:#fff;text-decoration:none}
  .snippet{color:#ffead1;line-height:1.7;margin:6px 0 10px}
  .meta{display:flex;gap:16px;color:var(--muted);font-size:13px}
</style>
<link rel="stylesheet" href="css/taskbar.css" />
<link rel="stylesheet" href="css/chrome.css" />
</head>
<body data-page-index="22/36">
<div class="wrap">
  <header>兽的交易市场</header>
  <main>
    <div class="title">兽的交易市场</div>
    <div class="nav">
      <a href="#" class="active" data-tab="posts">交易贴</a>
      
      <input class="search" type="text" placeholder="搜索您想要交易的兽的名字" aria-label="搜索" />
      <button class="search-btn" type="button" title="搜索">搜索</button>
    </div>

    <div class="posts" id="posts">
      <article class="post">
        <h3>交易市场介绍</h3>
        <p class="snippet">本交易市场旨在构建一个捕兽人和平交易的场所，各位捕兽人交易的过程中请遵守诚信友善的原则，严禁暴力行为</p>
        <p class="snippet">交易市场对所有人员开放，无需注册即可交易。也请买卖双方做好身份认证，谨防诈骗</p>
        <div class="meta"><span>意向：5</span><span>日期：2024-10-29</span><span>卖家：trader_omega</span></div>
      </article>
      <article class="post">
        <h3>交易市场使用须知</h3>
        <p class="snippet">卖方可在交易市场发布兽的信息，买方可在市场搜索想要的兽的信息，完成购买</p>
        <div class="meta"><span>意向：8</span><span>日期：2024-10-30</span><span>买家：collector_x</span></div>
      </article>
      

    
    
  </main>
</div>
<script>
(function(){
  const tabs=document.querySelectorAll('.nav a');
  const sections={posts:document.getElementById('posts'),featured:document.getElementById('featured')};
  tabs.forEach(a=>a.addEventListener('click',function(e){
    e.preventDefault();
    const tab=this.getAttribute('data-tab');
    tabs.forEach(t=>t.classList.remove('active'));
    this.classList.add('active');
    sections.posts.style.display=tab==='posts'?'flex':'none';
    sections.featured.style.display=tab==='featured'?'flex':'none';
  }));
  const searchInput=document.querySelector('.nav .search');
  const searchBtn=document.querySelector('.nav .search-btn');
  function goSearch(){
    const input=(searchInput?.value||'').trim();
    if(!input){ alert('请输入要搜索的关键词'); return; }
    // 优先复用全局跳转逻辑（含关键词映射）
    if(typeof window.navigate==='function'){
      window.navigate(input);
      return;
    }
    // 兜底：基本前缀拼接 + 简易关键词映射
    const base='https://cuberj.github.io/';
    // 完整URL直接跳转
    if(/^https?:\/\//i.test(input)){ window.location.href=input; return; }
    // 路径拼接跳转
    if(/[\/]/.test(input) || /\.(html?|png|jpg|jpeg|gif)$/i.test(input)){
      let path=input; if(path.startsWith('/')) path=path.slice(1);
      window.location.href=base+path; return;
    }
    const keywordMap={
      '丹卡拉比':'MonsterMarket/Monster_dankalabi.html',
      '弗纳乌斯':'MonsterMarket/Monster_funawusi.html'
    };
    const key=input.toLowerCase();
    let mapped=keywordMap[key];
    if(!mapped){ for(const k in keywordMap){ const kk=(k||'').toLowerCase(); if(key.includes(kk)||kk.includes(key)){ mapped=keywordMap[k]; break; } } }
    if(mapped){ window.location.href=base+mapped; } else { alert('您搜索的兽尚未有人发起交易，请尝试搜索别的兽'); }
  }
  searchInput && searchInput.addEventListener('keydown',function(e){ if(e.key==='Enter') goSearch(); });
  searchBtn && searchBtn.addEventListener('click', goSearch);
})();
</script>
<script src="js/chrome.js" defer></script>
<script src="js/taskbar.js" defer></script>
</body>
</html>